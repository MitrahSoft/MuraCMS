function loadObject(a,b,c){var d,e=b;processReqChange=function(){4==d.readyState&&200==d.status&&(document.getElementById(e).innerHTML=d.responseText)},document.getElementById(e).innerHTML=c,window.XMLHttpRequest?(d=new XMLHttpRequest,d.onreadystatechange=processReqChange,d.open("GET",a,!0),d.send(null)):window.ActiveXObject&&(d=new ActiveXObject("Microsoft.XMLHTTP"))&&(d.onreadystatechange=processReqChange,d.open("GET",a,!0),d.send())}function isInteger(a){var b;for(b=0;b<a.length;b++){var c=a.charAt(b);if(c<"0"||c>"9")return!1}return!0}function stripCharsInBag(a,b){var c,d="";for(c=0;c<a.length;c++){var e=a.charAt(c);-1==b.indexOf(e)&&(d+=e)}return d}function daysInFebruary(a){return a%4!=0||a%100==0&&a%400!=0?28:29}function DaysArray(a){for(var b=1;b<=a;b++)this[b]=31,4!=b&&6!=b&&9!=b&&11!=b||(this[b]=30),2==b&&(this[b]=29);return this}function parseDateTimeSelector(a){if(isDate($(".datepicker.mura-datepicker"+a).val())){var b=$(".datepicker.mura-datepicker"+a).val(),c=(DaysArray(12),b.split(dtCh)),d=c[dtFormat[0]],e=c[dtFormat[1]],f=c[dtFormat[2]],g=$("#mura-"+a+"Minute").length?$("#mura-"+a+"Minute").val():0,h=$("#mura-"+a+"Hour").length?$("#mura-"+a+"Hour").val():0;$("#mura-"+a+"DayPart").length&&("pm"==$("#mura-"+a+"DayPart").val().toLowerCase()?24==(h=parseInt(h)+12)&&(h=12):12==parseInt(h)&&(h=0)),1==h.length&&(h="0"+h),1==g.length&&(g="0"+g);var i="{ts '"+f+"-"+d+"-"+e+" "+h+":"+g+":00'}";$("#mura-"+a).val(i)}else $("#mura-"+a).val("")}function isDate(a){var b=DaysArray(12),c=a.split(dtCh);if(3!=c.length)return!1;var d=c[dtFormat[0]],e=c[dtFormat[1]],f=c[dtFormat[2]];strYr=f,"0"==e.charAt(0)&&e.length>1&&(e=e.substring(1)),"0"==d.charAt(0)&&d.length>1&&(d=d.substring(1));for(var g=1;g<=3;g++)"0"==strYr.charAt(0)&&strYr.length>1&&(strYr=strYr.substring(1));return month=parseInt(d),day=parseInt(e),year=parseInt(strYr),!(month<1||month>12)&&(!(day<1||day>31||2==month&&day>daysInFebruary(year)||day>b[month])&&(!(4!=f.length||0==year||year<minYear||year>maxYear)&&0!=isInteger(stripCharsInBag(a,dtCh))))}function isEmail(a){var b=a;return-1!=b.indexOf("@")&&-1!=b.indexOf(".")}function isColor(a){var b,c=0,d=a.replace(/ +/g,"").match(/(rgba?)|(\d+(\.\d+)?%?)|(\.\d+)/g);if(d&&d.length>3){for(;c<3;){if(b=d[++c],(b=-1!=b.indexOf("%")?Math.round(2.55*parseFloat(b)):parseInt(b))<0||b>255)return NaN;d[c]=b}if(0===a.indexOf("rgba")){if(void 0==d[4]||d[4]<0||d[4]>1)return NaN}else if(d[4])return NaN;return d[0]+"("+d.slice(1).join(",")+")"}return NaN}function isURL(a){return urlPattern=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,a.match(urlPattern)}function stripe(a){$("table."+a+" tr").each(function(a){a%2?$(this).addClass("alt"):$(this).removeClass("alt")}),$("div.mura-grid."+a+" dl").each(function(a){a%2?$(this).addClass("alt"):$(this).removeClass("alt")})}function toggleDisplay(a,b,c){if("none"==document.getElementById(a).style.display){if(document.getElementById(a).style.display="",document.getElementById(a+"Link")){var d=document.getElementById(a+"Link");d.innerHTML="["+c+"]"}}else if(document.getElementById(a).style.display="none",document.getElementById(a+"Link")){var d=document.getElementById(a+"Link");d.innerHTML="["+b+"]"}}function openDisplay(a,b){if("none"==document.getElementById(a).style.display){if($("#"+a).slideDown(),"editAdditionalTitles"==a&&$("#alertTitleSuccess").hide(),document.getElementById(a+"Link")){document.getElementById(a+"Link").innerHTML="["+b+"]"}document.getElementById(a).style.display=""}}function toggleDisplay2(a,b){document.getElementById(a).style.display=1==b?"":"none"}function validate(a){return validateForm(a)}function getValidationFieldName(a){return void 0!=a.getAttribute("data-label")?a.getAttribute("data-label"):void 0!=a.getAttribute("label")?a.getAttribute("label"):a.getAttribute("name")}function getValidationIsRequired(a){return void 0!=a.getAttribute("data-required")?"true"==a.getAttribute("data-required").toLowerCase():void 0!=a.getAttribute("required")&&"true"==a.getAttribute("required").toLowerCase()}function getValidationMessage(a,b){return void 0!=a.getAttribute("data-message")?a.getAttribute("data-message")+"<br/>":void 0!=a.getAttribute("message")?a.getAttribute("message")+"<br/>":getValidationFieldName(a).toUpperCase()+b+"<br/>"}function getValidationType(a){return void 0!=a.getAttribute("data-validate")?a.getAttribute("data-validate").toUpperCase():void 0!=a.getAttribute("validate")?a.getAttribute("validate").toUpperCase():""}function hasValidationMatchField(a){return void 0!=a.getAttribute("data-matchfield")&&""!=a.getAttribute("data-matchfield")||void 0!=a.getAttribute("matchfield")&&""!=a.getAttribute("matchfield")}function getValidationMatchField(a){return void 0!=a.getAttribute("data-matchfield")?a.getAttribute("data-matchfield"):void 0!=a.getAttribute("matchfield")?a.getAttribute("matchfield"):""}function hasValidationRegex(a){return void 0!=a.value&&(void 0!=a.getAttribute("data-regex")&&""!=a.getAttribute("data-regex")||(void 0!=a.getAttribute("regex")&&""!=a.getAttribute("regex")||void 0))}function getValidationRegex(a){return void 0!=a.getAttribute("data-regex")?a.getAttribute("data-regex"):void 0!=a.getAttribute("regex")?a.getAttribute("regex"):""}function validateForm(a){var b,c,d="",e=!1,g="",h=a.getElementsByTagName("input");for(f=0;f<h.length;f++){if(theField=h[f],g=getValidationType(theField),"noSpaceInName"==theField.id){1!=theField.value.trim().split(" ").length&&(d+=getValidationMessage(theField," contains spaces"))}if(""==theField.style.display)if(getValidationIsRequired(theField)&&""==theField.value)e||(e=!0,b=f,c="input"),d+=getValidationMessage(theField," is required.");else if(""!=g)if("EMAIL"!=g||""==theField.value||isEmail(theField.value))if("NUMERIC"==g&&""!=theField.value&&isNaN(theField.value))isNaN(theField.value.replace(/\$|\,|\%/g,""))?(e||(e=!0,b=f,c="input"),d+=getValidationMessage(theField," must be numeric.")):theField.value=theField.value.replace(/\$|\,|\%/g,"");else if("COLOR"==g&&""!=theField.value)isColor(theField.value)||(e||(e=!0,b=f,c="input"),d+=getValidationMessage(theField," is not a valid color."));else if("URL"==g&&""!=theField.value)isURL(theField.value)||(e||(e=!0,b=f,c="input"),d+=getValidationMessage(theField," is not a valid URL."));else if("REGEX"==g&&""!=theField.value&&hasValidationRegex(theField)){var i=new RegExp(getValidationRegex(theField));theField.value.match(i)||(e||(e=!0,b=f,c="input"),d+=getValidationMessage(theField," is not valid."))}else"MATCH"==g&&hasValidationMatchField(theField)&&theField.value!=a[getValidationMatchField(theField)].value?(e||(e=!0,b=f,c="input"),d+=getValidationMessage(theField," must match"+getValidationMatchField(theField)+".")):"DATE"!=g&&"DATETIME"!=g||""==theField.value||isDate(theField.value)||(e||(e=!0,b=f,c="input"),d+=getValidationMessage(theField," must be a valid date [MM/DD/YYYY]."));else e||(e=!0,b=f,c="input"),d+=getValidationMessage(theField," must be a valid email address.")}var j=a.getElementsByTagName("textarea");for(f=0;f<j.length;f++)if(theField=j[f],g=getValidationType(theField),""==theField.style.display&&getValidationIsRequired(theField)&&""==theField.value)e||(e=!0,b=f,c="textarea"),d+=getValidationMessage(theField," is required.");else if(""!=g&&"REGEX"==g&&""!=theField.value&&hasValidationRegex(theField)){var i=new RegExp(getValidationRegex(theField));theField.value.match(i)||(e||(e=!0,b=f,c="input"),d+=getValidationMessage(theField," is not valid."))}var k=a.getElementsByTagName("select");for(f=0;f<k.length;f++)theField=k[f],g=getValidationType(theField),""==theField.style.display&&getValidationIsRequired(theField)&&""==theField.options[theField.selectedIndex].value&&(e||(e=!0,b=f,c="select"),d+=getValidationMessage(theField," is required."));return""==d||("input"==c?h[b].focus():"textarea"==c?j[b].focus():"select"==c&&k[b].focus(),$("#alertDialogMessage").html(d),$("#alertDialog").attr("title","Alert"),$("#alertDialog").dialog({resizable:!1,modal:!0,position:getDialogPosition(),buttons:{Ok:{click:function(){$(this).dialog("close"),"input"==c?h[b].focus():"textarea"==c?j[b].focus():"select"==c&&k[b].focus()},text:"OK",class:"mura-primary"}}}),!1)}function submitForm(a,b,c){var d=c,e=a;if(validateForm(a)){if(void 0!==b&&"delete"!=b){var g=a.getElementsByTagName("input");for(f=0;f<g.length;f++)"action"==g[f].getAttribute("name")&&g[f].setAttribute("value",b)}else if("delete"==b)return $("#alertDialogMessage").html(d),$("#alertDialog").dialog({modal:!0,position:getDialogPosition(),resizable:!1,dialogClass:"dialog-warning",width:400,buttons:{Yes:{click:function(){$(this).dialog("close");var a=e.getElementsByTagName("input");for(f=0;f<a.length;f++)"action"==a[f].getAttribute("name")&&a[f].setAttribute("value",b);e.submit()},text:"Yes",class:"mura-primary"},"No":function(){$(this).dialog("close")}}}),!1;if("undefined"!=typeof htmlEditorType&&"fckeditor"!=htmlEditorType)for(var h in CKEDITOR.instances)void 0!==CKEDITOR.instances[h]&&null!=CKEDITOR.instances[h]&&$("#"+h).length&&CKEDITOR.instances[h].updateElement();actionModal(function(){a.submit(),formSubmitted=!0})}return!1}function actionModal(a){return $("body").append('<div id="action-modal" class="modal-backdrop fade in"></div>'),$("#action-modal").spin(spinnerArgs),a&&("string"==typeof a?location.href=a:a()),!1}function preview(a,b){return newWindow=""==b?window.open(a,"previewWin"):window.open(a,"previewWin",b),!newWindow||newWindow.closed||void 0===newWindow.closed?(alertDialog("pop-up window has been blocked for this site,Disable blocking pop-up windows to see the Site Preview"),!1):(newWindow.focus(),!1)}function createCookie(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"}function readCookie(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return unescape(e.substring(b.length,e.length))}return""}function eraseCookie(a){createCookie(a,"",-1)}function setHTMLEditors(){var a=document.getElementsByTagName("textarea");new Array;for(i=0;i<a.length;i++)if("htmlEditor"==a[i].className){var b=CKEDITOR.instances[a[i].id];void 0!==b&&null!=b&&CKEDITOR.remove(b),""==$(document.getElementById(a[i].id)).val()&&$(document.getElementById(a[i].id)).val("<p></p>");var c=a[i].getAttribute("data-toolbar")||"Default";$(document.getElementById(a[i].id)).ckeditor({toolbar:c,customConfig:"config.js.cfm"},htmlEditorOnComplete)}}function htmlEditorOnComplete(a){var b=$(a).ckeditorGet();b.resetDirty();var c=CKEDITOR.instances;"undefined"!=typeof CKFinder&&CKFinder.setupCKEditor(b,{basePath:context+"/requirements/ckfinder/",rememberLastFolder:!0}),HTMLEditorLoadCount++;var d=0;for(k in c)d++;try{document.getElementById("actionButtons").style.display=HTMLEditorLoadCount>=d?"block":"none"}catch(e){}}function setDatePickers(a,b,c){if(void 0==$.datepicker.regional[b])var d=b.substring(0,2);else var d=b;void 0!=$.datepicker.regional[d]?$(a).each(function(a){$(this).datepicker($.datepicker.regional[d]).datepicker("option","changeYear",!0).datepicker("option","changeMonth",!0)}):$(a).each(function(a){$(this).datepicker($.datepicker.regional[""]).datepicker("option","changeYear",!0).datepicker("option","changeMonth",!0)})}function setColorPickers(a){$(a).each(function(a){$(this).colorpicker({format:"rgba"}).on("changeColor",function(a){var b=a.color.toRGB();$(this).val("rgba("+b.r+","+b.g+","+b.b+","+b.a+")")})})}function setToolTips(a){"function"==typeof $(a).tooltip&&$(a).tooltip({selector:"a[rel=tooltip]"}),$(a+" a[rel=tooltip]").click(function(a){return a.preventDefault(),!1}),$(a+' [data-toggle="popover"]').popover("destroy").popover({trigger:"hover",html:!0})}function setTabs(a,b){if($(".tab-preloader").spin(spinnerArgs2),$(a+" a").click(function(a){a.preventDefault(),$(this).tab("show")}),""!=window.location.hash)$(a+' a[href="'+window.location.hash+'"]').tab("show"),window.setTimeout(function(){$("a span.display-tab").html('<i class="mi-chevron-down"></i>')},1);else if(void 0!==b)try{$(a+" li::nth-child("+(b+1)+") a").tab("show")}catch(c){$(a+" li:first a").tab&&$(a+" li:first a").tab("show")}else $(a+" li:first a").tab("show");$(".tab-preloader").hide().spin(!1)}function setAccordions(a,b){$(a).each(function(a){null!=b?$(this).accordion({active:b}):$(this).accordion()})}function setCheckboxTrees(){$(".checkboxTree").each(function(){$(this).collapsibleCheckboxTree({checkParents:!1,checkChildren:!1,uncheckChildren:!0,initialState:"default"})})}function openFileMetaData(a,b,c,d){"undefined"==typeof fileMetaDataAssign&&(fileMetaDataAssign={}),$("#newFileMetaContainer").remove(),$("body").append('<div id="newFileMetaContainer" title="Loading..." style="display:none"><div id="newFileMeta"><div class="load-inline"></div></div></div>');var e=$.ui.dialog.prototype._focusTabbable;return $.ui.dialog.prototype._focusTabbable=function(){},$("#newFileMetaContainer").dialog({resizable:!1,modal:!0,width:600,title:"Edit Image Properties",position:getDialogPosition(),buttons:{Cancel:function(){$(this).dialog("close")},Save:{click:function(){var a={exifpartial:{}};$(".filemeta").each(function(){a[$(this).attr("data-property")]=$(this).val()}),$(".exif").each(function(){a.exifpartial[$(this).attr("data-property")]=$(this).val()}),a.setasdefault=$("#filemeta-setasdefault").is(":checked"),fileMetaDataAssign[d]=a,$("#filemetadataassign").val(JSON.stringify(fileMetaDataAssign)),$(this).dialog("close")},text:"Save",class:"mura-primary"}},open:function(){$(".ui-widget-overlay").css("z-index",500),$(".ui-dialog").css("z-index",501),$("#newFileMetaContainer").html('<div class="ui-dialog-content ui-widget-content"><div class="load-inline"></div></div>');var e="muraAction=cArch.loadfilemetadata&fileid="+b+"&property="+d+"&contenthistid="+a+"&siteid="+c+"&cacheid="+Math.random();$("#newFileMetaContainer .load-inline").spin(spinnerArgs2),$.get("index.cfm?"+e).done(function(a){if(-1!=a.indexOf("mura-primary-login-token")&&(location.href="./"),$("#newFileMetaContainer .load-inline").spin(!1),$("#newFileMetaContainer").html(a),d in fileMetaDataAssign){var b=fileMetaDataAssign[d];for(var c in b)$('.filemeta[data-property="'+c+'"]').val(b[c]);$("#filemeta-setasdefault").prop("checked",b.setasdefault)}$("#newFileMetaContainer .htmlEditor").ckeditor({toolbar:"Basic",height:100,customConfig:"config.js.cfm"},htmlEditorOnComplete),setTabs("#newFileMetaContainer.tabs",0),setDatePickers(".datepicker",dtLocale),$("#newFileMetaContainer").dialog("option","position",getDialogPosition()),$(".filemeta:first").focus()}).error(function(a){$("#newFileMetaContainer").html(a.responseText),$("#newFileMetaContainer").dialog("option","position",getDialogPosition())})},close:function(){$(this).dialog("destroy"),$("#newFileMetaContainer").remove(),$.ui.dialog.prototype._focusTabbable=e}}),!1}function setFileSelectors(){$(".mura-file-selector").fileselector()}function alertDialog(a,b,c,d,e){var d=d||450;if("object"==typeof a){var f=a;a=f.message||"Message not defined",b=f.okAction||function(){},c=f.title||"Alert",d=f.width||0}c=c||"Alert",e=e||"dialog-warning";var g={dialogClass:e,resizable:!1,modal:!0,position:getDialogPosition(),buttons:{Ok:{click:function(){$(this).dialog("close"),b&&("function"==typeof b?b():"string"==typeof b&&""!=b&&actionModal(b))},text:"OK",class:"mura-primary"}}};return d&&(g.width=d),$("#alertDialog").attr("title",c),$("#alertDialogMessage").html(a),$("#alertDialog").dialog(g),!1}function confirmDialog(a,b,c,d,e,f,g,h){var e=e||450;if("object"==typeof a){var i=a;a=i.message||"Message not defined",i.yesAction&&(b=i.yesAction),i.noAction&&(c=i.noAction),d=i.title||"Alert",e=i.width||0}d=d||"Alert",f=f||"OK",g=g||"Cancel",h=h||"dialog-confirm";var j={dialogClass:h,resizable:!1,modal:!0,position:getDialogPosition(),buttons:{"No":{click:function(){void 0!==c&&""!=c?"function"==typeof c?c():actionModal(c):$(this).dialog("destroy")},text:g,class:"mura-cancel"},"Yes":{click:function(){$(this).dialog("close"),"function"==typeof b?b():""!=b&&actionModal(b)},text:f,class:"mura-primary"}},close:function(a,b){$(this).dialog("destroy")}};return e&&(j.width=e),$("#alertDialog").attr("title",d),$("#alertDialogMessage").html(a),$("#alertDialog").dialog(j),!1}function CountDown(){var a=new Date;a=Date.parse(a)/1e3;var b=parseInt(sessionTimeout-(a-start),10),c=Math.floor(b/3600),d=Math.floor((b-3600*c)/60),e=b-(3600*c+60*d);d=d<=9?"0"+d:d,e=e<=9?"0"+e:e,void 0!=document.getElementById("clock").innerHTML&&(document.getElementById("clock").innerHTML=c+":"+d+":"+e),b>0?timerID=setTimeout("CountDown()",100):void 0!=document.getElementById("clock").innerHTML&&(document.getElementById("clock").innerHTML="0:0:0")}function fileManagerPopUp(){var a=new CKFinder;return a.basePath=context+"/requirements/ckfinder/",a.resourceType="[Advanced] Mura Root",a.popup(),!1}function fileManagerCreate(){var a=new CKFinder;return a.basePath=context+"/requirements/ckfinder/",a.create(),!1}function loadjscssfile(a,b){if("js"==b){var c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",a)}else if("css"==b){var c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("type","text/css"),c.setAttribute("href",a)}void 0!==c&&document.getElementsByTagName("head")[0].appendChild(c)}function getDialogPosition(){return{my:"center",at:"center",of:window,collision:"fit"}}function openPreviewDialog(a){var b=a;b=-1==b.indexOf("?")?a+"?muraadminpreview":a+"&muraadminpreview";var c=["top",20],d=$('<div id="mura-preview-container"></div>').html('<iframe id="preview-dialog" style="border: 0; background:#fff;" src="'+b+'&mobileFormat=false" width="1075" height="600" allowfullscreen></iframe>').dialog({width:1105,height:600,modal:!0,title:"Preview",position:c,resize:function(a,b){$("#preview-dialog").attr("width",b.size.width-25)},close:function(){$(d).dialog("destroy"),$("#mura-preview-container").remove(),$("#mura-preview-device-selector").remove()},open:function(){var a='<div id="mura-preview-device-selector"><p>Preview Mode</p>';a+='<a class="mura-device-standard active" data-height="600" data-width="1075" data-mobileformat="false"><i class="mi-desktop"></i></a>',a+='<a class="mura-device-tablet" data-height="600" data-width="768" data-mobileformat="false"><i class="mi-tablet"></i></a>',a+='<a class="mura-device-tablet-landscape" data-height="480" data-width="1024" data-mobileformat="false"><i class="mi-tablet mi-rotate-270"></i></a>',a+='<a class="mura-device-phone" data-height="480" data-width="320" data-mobileformat="true"><i class="mi-mobile-phone"></i></a>',a+='<a class="mura-device-phone-landscape" data-height="250" data-width="520" data-mobileformat="true"><i class="mi-mobile-phone mi-rotate-270"></i></a>',a+="</div>",$(".ui-dialog").prepend(a),$("#mura-preview-device-selector a").bind("click",function(){var a=$(this).data();return $(d).dialog("option","width",a.width+30),$(d).dialog("option","height",a.height+124),$("#preview-dialog").attr("width",a.width).attr("height",a.height).attr("src",b+"&mobileFormat="+a.mobileformat),$(d).dialog("option","position",c),$("#mura-preview-device-selector a").removeClass("active"),$(this).addClass("active"),!1})}});return!1}function preloadimages(a){for(var b=[],a="object"!=typeof a?[a]:a,c=0;c<a.length;c++)b[c]=new Image,b[c].src=a[c]}function removePunctuation(a){$(a).val($(a).val().replace(/[^\w\s-]|/g,"").replace(/\s+/g,""))}function setLowerCaseKeys(a){for(var b=Object.keys(a),c=b.length;c--;){var d=b[c];d!==d.toLowerCase()&&(a[d.toLowerCase()]=a[d],delete a[d]),"object"==typeof a[d.toLowerCase()]&&setLowerCaseKeys(a[d.toLowerCase()])}return a}function setFinders(a){"undefined"!=typeof CKFinder&&$(a).unbind("click").on("click",function(){var a=$(this).attr("data-target"),b=new CKFinder;b.basePath=context+"/requirements/ckfinder/","true"==$(this).attr("data-completepath").toLowerCase()?b.selectActionFunction=function(b){var c=jQuery('input[name="'+a+'"]');c.val(webroot+fileDelim+b),c.trigger("change")}:b.selectActionFunction=function(b){var c=jQuery('input[name="'+a+'"]');c.val(b),c.trigger("change")},"root"==$(this).attr("data-resourcetype")?b.resourceType="Application_Root":"site"==$(this).attr("data-resourcetype")?b.resourceType=siteid+"_Site_Files":b.resourceType=siteid+"_User_Assets",b.popup()})}function wireupExterndalUIWidgets(){setFinders(".mura-ckfinder"),"undefined"!=typeof dtLocale&&setDatePickers(".datepicker",dtLocale),"undefined"!=typeof activetab&&setTabs(".mura-tabs",activetab),setHTMLEditors(),"undefined"!=typeof activepanel&&setAccordions(".accordion",activepanel),setCheckboxTrees(),setColorPickers(".colorpicker"),setToolTips(".container"),setFileSelectors()}function showTableControls(a){var b=$(a).next(".actions-menu");$("td.actions div.actions-menu").not(".hide").addClass("hide"),$(b).removeClass("hide")}var dtCh="/",minYear=1800,maxYear=2200,dtFormat=[0,1,2],dtExample="12/31/2016";newWindow=null;var HTMLEditorLoadCount=0;!function(a){var b=function(b,c){var d=this.$element=a(b),e=this.options=a.extend({},a.fn.fileselector.defaults,c);a(this.$element).attr("data-name")&&(this.options.file=this.$element.attr("data-name"));var f=function(b){var c="muraAction=cArch.assocfiles&compactDisplay=true&siteid="+d.attr("data-siteid")+"&fileid="+d.attr("data-fileid")+"&type="+d.attr("data-filetype")+"&contentid="+d.attr("data-contentid")+"&property="+d.attr("data-property")+"&keywords="+b+"&cacheid="+Math.random();d.find(".mura-file-existing").html('<div class="load-inline"></div>'),d.find(".load-inline").spin(spinnerArgs2),a.ajax("index.cfm?"+c).done(function(a){d.find(".load-inline").spin(!1),d.find(".mura-file-existing").html(a),d.find(".mura-file-existing").find(".btn").click(function(){f(d.find(".mura-file-existing").find(".filesearch").val())}),setTabs("#selectAssocImageResults-"+d.attr("data-property"),0)}).error(function(a){d.find(".load-inline").spin(!1),d.find(".mura-file-existing").html(a.responseText)})},g=function(){h(a(this).val()),"existing"==a(this).val().toLowerCase()?f(""):(d.find(".mura-file-existing").html('<div class="load-inline"></div>'),d.find(".load-inline").spin(spinnerArgs2)),a(this).hasClass("btn")&&a(this).addClass("active").siblings().removeClass("active")},h=function(a){d.find(".mura-file-option").find("input").val(""),d.find(".mura-file-option").find(".btn").hide(),d.find(".mura-file-option").hide(),d.find(".mura-file-"+a.toLowerCase()).show(),d.find(".mura-file-option").find("input").attr("name",""),d.find(".mura-file-"+a.toLowerCase()).find("input").attr("name",e.file)};a(this.$element).find("button.mura-file-type-selector").click(g),d.find(".mura-file-option").find("input").change(function(){var b=/^(([a-zA-Z]:)|(\\{2}\w+)\$?)(\\(\w[\w].*))+(.jpg|.jpeg|.png|.gif|.svg)$/,c=/(http(s?):)|([/|.|\w|\s])*\.(?:jpg|jpeg|gif|png|svg)/;b.test(a(this).val().toLowerCase())||c.test(a(this).val().toLowerCase())?a(this).parent().find(".file-meta-open").show():a(this).parent().find(".file-meta-open").hide()}),h("Upload")};a.fn.fileselector=function(c){return this.each(function(){var d=a(this),e=d.data("fileselector");e||d.data("fileselector",e=new b(this,c))})},a.fn.fileselector.defaults={file:"newfile"},a.fn.fileselector.Constructor=b}(window.jQuery);var start=new Date;start=Date.parse(start)/1e3;var sessionTimeout=10800,spinnerArgs={lines:17,length:7,width:4,radius:13,corners:1,rotate:0,color:"#696969",speed:.9,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},spinnerArgs2={lines:17,length:7,width:4,radius:13,corners:1,rotate:0,color:"#696969",speed:.9,trail:60,shadow:!1,hwaccel:!1,className:"spinner-alt",zIndex:2e9,top:"auto",left:"auto",position:"relative"},spinnerArgs3={lines:17,length:7,width:4,radius:13,corners:1,rotate:0,color:"#696969",speed:.9,trail:60,shadow:!1,hwaccel:!1,className:"spinner-alt",zIndex:2e9,top:"auto",left:"auto",position:"relative"};void 0!==$.ui&&($.widget("custom.muraSiteSelector",$.ui.autocomplete,{_suggest:function(a){var b=this.element.closest("ul");b.children("li").remove(),this._renderMenu(b,a),this.isNewMenu=!0,this.menu.refresh(),b.show(),this._resizeMenu(),this.options.autoFocus&&this.menu.next()},_renderItem:function(a,b){return $("<li>").append($("<a>").attr("href","?muraAction=cDashboard.main&siteID="+b.id).append($("<i>").addClass("mi-globe")).append(b.label)).appendTo(a)},options:{create:function(a){$(a.target).keyup(function(a,b){var c=$(this);if(c.val().length<$(this).data("customMuraSiteSelector").option("minLength")){c.closest("ul").children("li").remove()}})}}}),$(function(){$('input[name="site-search"]').muraSiteSelector({source:function(a,b){$.ajax({url:"./index.cfm?muraAction=cnav.searchsitedata",dataType:"json",method:"POST",data:{searchString:a.term},success:function(a){return b(a)}})},minLength:2})})),$(function(){wireupExterndalUIWidgets()});